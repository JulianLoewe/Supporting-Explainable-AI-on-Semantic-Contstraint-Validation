\documentclass[11pt,a4paper, DIV=12]{report}
\input{preamble}

\begin{document}
\input{titlepage}
\cleardoublepage

\input{declaration.tex}
\clearpage 

%% ----------------------------------------------------------------
\begin{abstract}
There is a rising number of knowledge graphs available published through various sources. The enormous amount of linked data strives to give entities a semantic context. Using SHACL, the entities can be validated with respect to their context.
On the other hand, an increasing usage of AI models in productive systems comes with a great responsibility in various areas. Predictive models like linear, logistic regression, and tree-based models, are still frequently used as they come with a simple structure, which allows for interpretability. However, explaining models includes verifying whether the model makes predictions based on human constraints or scientific facts. This work proposes to use the semantic context of the entities in knowledge graphs to validate predictive models with respect to user-defined constraints; therefore, providing a theoretical framework for a model-agnostic validation engine based on SHACL. In a second step, the model validation results are summarized in the case of a decision tree and visualized model-coherently. Finally, the performance of the framework is evaluated based on a Python implementation.
\end{abstract}

\tableofcontents

\newpage

\chapter{Introduction}
    \label{section_introduction}
    \input{content/01_introduction/introduction}
    \section{Motivating Example}
        \input{content/01_introduction/motivating_example}
    \section{Contributions}
        \input{content/01_introduction/contributions}
    \section{Document Structure}
        \input{content/01_introduction/document_structure}
    \section{Summary}
        \input{content/01_introduction/summary}

\chapter{Background}
    \label{section_background}
    \input{content/02_background/introduction}
    \section{Preliminaries}
        \input{content/02_background/preliminaries}
    \section{Semantic Constraint Validation}
        \input{content/02_background/semantic_constraint_validation/introduction}
        \subsection{RDF - Encoding Structured Information}
            \label{background_rdf}
            \input{content/02_background/semantic_constraint_validation/rdf}
        %   - URIs/IRIs ✅ , Literals ✅ ,
        %   - RDF - Triples ✅ 
        \subsection{An Example RDF Graph using Turtle}
            \label{background_turtle}
            \input{content/02_background/semantic_constraint_validation/turtle}
        %   - Turtle ✅ 
        %   - N-Triples ✅ 

        \subsection{Querying RDF Graphs with SPARQL}
            \label{background_sparql}
            \input{content/02_background/semantic_constraint_validation/sparql}
        %   - SPARQL ✅ 
        %   - Basic Graph Patterns ✅ 

        \subsection{Validating SHACL Constraints over an SPARQL Endpoint}
            \label{background_shacl}
            \input{content/02_background/semantic_constraint_validation/shacl}
        %   - SHACL Basics e.g. Shapes --> Node and Property Shapes ✅ 
        %   - Validation Knowledge Graph Formalism as Basis to abstract on later ✅ 
        %   - Property Paths ✅ 

    \section{Explainable AI}
        \input{content/02_background/explainable_ai/introduction}
    \label{background_explainable_ai}
        \subsection{Basics of Machine Learning}
            \input{content/02_background/explainable_ai/ml_basics}
        % - Task --> Dataset, Model, Inducer, Parameters  ✅ 
        % - Categorical, Continuous Variables --> Regression and Classification ✅ 
        \subsection{Learning Algorithms and Performance Measures}
            \label{section_algorithms_performance_measures}
            \input{content/02_background/explainable_ai/learning_algorithms_and_metrics}
        % - Assumptions made by a Model (Inductive Bias) --> Allows generalization ✅ 
        % - Bias - Variance Tradeoff ✅  -> Overfitting/Underfitting 
        % - Train/Validation/Test Split ✅  --> Cross Validation
        % - Loss/Error and Metrics ✅ 
        \subsection{Tree-based Models}
            \label{section_tree_based_models}
            \input{content/02_background/explainable_ai/tree_based_models}
        %\paragraph{CART}        
        %\paragraph{Random Forests}
        %\paragraph{Gradient Boosting}
        %  - Decision Trees and a basic Algorithm to be extended later
        %  - Further Models using Decision Trees like Random Forests, Gradient Boosting    
    \section{Summary}
        \input{content/02_background/summary}

\chapter{Related Work}
    \label{section_related_work}
    \input{content/related_work}

\chapter{Approach}
    \label{section_approach}   
    \input{content/03_approach/introduction}
    
    \section{Problem Definition}
        \label{section_problem_definition}
        \input{content/03_approach/problem_definition}

    \section{Validating Constraints over Machine Learning Models}
        \label{section_validating_constraints}
        \input{content/03_approach/validating_constraints/introduction}
        
    
        \subsection{Prepositionalization}
            \label{section_propositionalization}
            \input{content/03_approach/validating_constraints/propositionalization}
            
        \subsection{Constraint Evaluation}
            \label{section_evaluating_constraints}
            \input{content/03_approach/validating_constraints/evaluating_constraints}
        
        \subsection{The Validation Engine}
            \label{section_validation_engine}
            \input{content/03_approach/validating_constraints/validation_engine}
        \subsection{Complexity}
            \label{section_validation_engine_complexity}
            \input{content/03_approach/validating_constraints/complexity}
    
    \section{Improving and Extending the Approach}                          
        \label{section_improving_approach}
        \input{content/03_approach/improving_the_approach/introduction}

        \subsection{Reducing the SHACL Shape Schemas}
            \label{section_shaclapi}
            \input{content/03_approach/improving_the_approach/shaclapi}
        
        \subsection{How to Join the SHACL Validation Results with the Dataset}
            \label{section_executing_the_join}
            \input{content/03_approach/improving_the_approach/choosing_the_join_strategy}
        
        \subsection{Performing SHACL Constraint Validation during SPARQL Query Execution}
            \label{section_valSPARQL}
            \input{content/03_approach/improving_the_approach/valsparql}

        \subsection{Different Types of Constraints}
            \label{section_further_types_of_constraints}
            \input{content/03_approach/improving_the_approach/more_constraints}
    
    \section{Constraint-based Explanations and Interpretations}
        \label{section_constraint_based_explanations}
        \input{content/03_approach/explanations/introduction}
        % --> short the problem to be approached: And why it needs to be approached ✅ 
        % --> What is the meaning of an explanation?
        % --> Give three valued logic a meaning --> Table ✅ 
        \subsection{Frequency Distribution Tables to Summarize and as a Basis for Visualizations}
            \input{content/03_approach/explanations/frequency_distribution_tables}
            \label{section_frequency_distribution_tables}
            % --> Motivation to count --> From Counts to frequency distributions ✅ 
            % --> Frequency distribution and Pie Charts ✅ 
            % ...

        \subsection{Decomposing the Confusion Matrix}    
            \input{content/03_approach/explanations/confusion_matrix}
            \label{section_confusion_matrix_decomposition}

        \subsection{Visualizing the Model Validation Results Given Multiple Constraints}
            \input{content/03_approach/explanations/multiple_constraints}
            \label{section_visualizing_multiple_constraint_validation_results}
            % -> Neue Constraints: Males should not be vaccinated and Females should be vaccinated in general. ✅ 
            % -> Multiple Constraints and Grouped Stacked Histograms (Alle Daten, Alle Constraints, Gruppierung aber keine Korrelation in den Gruppen) ✅ 
            % -> Coverage mit PieCharts (Alle Daten, Alle Constraints, keine Gruppierung, aber Korrelation in der Gruppe)
            % -> Coverage mit Histogram (Alle Daten, Alle Constraints, Gruppierung, Korrelation)
            
        \subsection{Supporting the Explainability of Decision Trees}
            \input{content/03_approach/explanations/decision_trees}
            \label{section_constraint_decision_tree_visualization}
            % Decision Trees
            % - Zuordnung: Validation Results <-> Nodes
    \section{Summary}
        \input{content/03_approach/summary}
    
    % \section{Constraint-based Model Selection}
        % -> How to measure accuracy? Weighted Mean between Validation Result and Performance Measure?
        % -> Based on that Hyperparameter Optimization (AutoML)
        %  -> Grid Search, Baysian Optimization etc.
        
        % -> Confusion matrix comparing the 
        % Or recommending decision tree depth based on Constant Model Validaion Results?
        

        
        % Performing SHACL Constraint Validating during model training?
        
        % What is with multiple samples merged together --> A sample would therefore correspond to multiple Nodes in the knowledge graph.
    
    % Using valSPARQL for Validation --> If validating more than one sample at a time the validation results e.g. [(x,validation_result), ... ] has to be joined with \eta(i)
        
    % In case of coverage specific constraints might only need to be checked over a small amount of nodes


\chapter{Implementation}
    \label{section_implemenation}
    \input{content/04_implementation/introduction}
    \section{Design, Structure and Dependencies}
        \label{section_design_structure_dependencies}
        \input{content/04_implementation/design_structure}
    \section{Performance Efficiency}
        \label{section_performance_efficiency}
        \input{content/04_implementation/performance_efficiency}
    \section{Portability and Maintainability}
        \label{section_portability_maintainability}
        \input{content/04_implementation/portability_maintainability}
    \section{Summary}
        \input{content/04_implementation/summary}

\chapter{Application: InterpretME}
    \input{content/interpretme}
    \label{section_interpretme}

\chapter{Experimental Evaluation}
    \label{section_evaluation}
    \input{content/05_evaluation/introduction}
    \section{Validation Engine}
        \input{content/05_evaluation/validation_engine}
        \label{section_evaluation_validation_engine}
    \section{Visualization Algorithm}
        \input{content/05_evaluation/visualization_algo}
        \label{section_evaluation_visualization_algorithm}
    \section{Summary: Real Data Application}
        \input{content/05_evaluation/real_data_application}
        \label{section_evaluation_summary}
\chapter{Conclusions and Future Work}
    \label{section_conclusions}
    \input{content/conclusion}

\listoffigures
\listoftables
\bibliography{refs}{}
%\bibliographystyle{plain}
\bibliographystyle{ACM-Reference-Format}
\end{document}